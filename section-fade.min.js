(function(){"use strict";function i(i){return document.querySelectorAll(i)}var n=function(n,t){function o(i){if(!(b||L&&L.isScrolling())){var n=i.deltaY<0?"up":"down";"down"==n?e():r(),u()}}function e(){var i=w.index+1,n=p.length-1;if(i<=n){var t=p[i];a(t)}}function r(){var i=w.index-1;if(i>=0){var n=p[i];a(n)}}function a(i){w.id=i.id,w.element=i;for(var n=0;n<p.length;n++){var t=p[n];t==i?(t.classList.add("active"),w.index=n):t.classList.remove("active")}l()}function l(){T&&c(),g&&s(g)}function c(){var i=window.location.origin+window.location.pathname;i+="#"+w.id,window.location=i}function s(i){for(var n=0;n<i.length;n++)for(var t=i[n],o=t.querySelectorAll("[data-menuanchor]"),e=0;e<o.length;e++){var r=o[e],a=r.attributes["data-menuanchor"];a.value==w.id?r.classList.add("active"):r.classList.remove("active")}}function u(){b=!0,clearTimeout(v),v=setTimeout(function(){b=!1},S)}function f(){var i=window.location.hash;if(i)for(var n=0;n<p.length;n++){var t=p[n];if("#"+t.id==i){a(t);break}}else a(p[0]);for(n=0;n<p.length;n++)p[n].classList.add("sf-section")}function d(){for(var i=0;i<L.length;i++){var n,t=L[i];t.onwheel=function(i){var o,e=this.scrollHeight-this.offsetHeight,r=0==this.scrollTop,a=Math.ceil(this.scrollTop)==e,l=i.deltaY<0?"up":"down";r&&"down"==l?o=!0:a&&"up"==l&&(o=!0),(this.previousTop!=this.scrollTop||o)&&(this.scrolling=!0,this.previousTop=this.scrollTop,clearTimeout(n),n=setTimeout(function(){t.scrolling=!1},S))}}L.isScrolling=function(){for(var i=0;i<L.length;i++){var n=L[i];if(n.scrolling)return!0}}}function h(){for(var i=0;i<g.length;i++)for(var n=g[i],t=n.querySelectorAll("[data-menuanchor] a"),o=0;o<t.length;o++){var e=t[o];e.onclick=function(){for(var i=0;i<p.length;i++){var n=p[i];if(this.hash=="#"+n.id){a(n);break}}}}}var v,w=this.current={index:0,id:void 0,element:void 0},g=t.menu?i(t.menu):void 0,m=t.sectionSelector||".sf",p=i(n+" "+m),T=t.includeAnchor,S=t.delay||700,L=t.scrollables?i(t.scrollables):void 0,b=!1;this.init=function(){window.onwheel=o,f(),L&&d(),g&&h()},this.destroy=function(){window.removeEventListener("wheel",o)},this.pause=function(){b=!0},this.unPause=function(){b=!1},this.init()};window.SectionFade=n})();