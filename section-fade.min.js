/*!
 * Section Fade. Fade full page sections as you scroll.
 * 
 * https://github.com/lejendary/section-fade
 */
!function(){"use strict";function n(n){return document.querySelectorAll(n)}window.SectionFade=function(i,o){var t,e=this.current={index:0,id:void 0,element:void 0},r=o.menu?n(o.menu):void 0,l=n(i+" "+(o.sectionSelector||".sf")),a=o.includeAnchor,c=o.delay||700,s=o.scrollables?n(o.scrollables):void 0,u=!1;function d(n){u||s&&s.isScrolling()||("down"==(n.deltaY<0?"up":"down")?function(){var n=e.index+1,i=l.length-1;if(n<=i){var o=l[n];f(o)}}():function(){var n=e.index-1;if(n>=0){var i=l[n];f(i)}}(),u=!0,clearTimeout(t),t=setTimeout(function(){u=!1},c))}function f(n){e.id=n.id,e.element=n;for(var i=0;i<l.length;i++){var o=l[i];o==n?(o.classList.add("active"),e.index=i):o.classList.remove("active")}var t;a&&(t=window.location.origin+window.location.pathname,t+="#"+e.id,window.location=t),r&&function(n){for(var i=0;i<n.length;i++)for(var o=n[i],t=o.querySelectorAll("[data-menuanchor]"),r=0;r<t.length;r++){var l=t[r],a=l.attributes["data-menuanchor"];a.value==e.id?l.classList.add("active"):l.classList.remove("active")}}(r)}this.init=function(){window.onwheel=d,function(){var n=window.location.hash;if(n)for(var i=0;i<l.length;i++){var o=l[i];if("#"+o.id==n){f(o);break}}else f(l[0]);for(i=0;i<l.length;i++)l[i].classList.add("sf-section")}(),s&&function(){for(var n=0;n<s.length;n++){var i,o=s[n];o.onwheel=function(n){var t,e=0==this.scrollTop,r=this.scrollTop==this.scrollTopMax,l=n.deltaY<0?"up":"down";e&&"down"==l?t=!0:r&&"up"==l&&(t=!0),(this.previousTop!=this.scrollTop||t)&&(this.scrolling=!0,this.previousTop=this.scrollTop,clearTimeout(i),i=setTimeout(function(){o.scrolling=!1},c))}}s.isScrolling=function(){for(var n=0;n<s.length;n++)if(s[n].scrolling)return!0}}(),r&&function(){for(var n=0;n<r.length;n++)for(var i=r[n].querySelectorAll("[data-menuanchor] a"),o=0;o<i.length;o++)i[o].onclick=function(){for(var n=0;n<l.length;n++){var i=l[n];if(this.hash=="#"+i.id){f(i);break}}}}()},this.destroy=function(){window.removeEventListener("wheel",d)},this.pause=function(){u=!0},this.unPause=function(){u=!1},this.init()}}();