(function(){"use strict";function i(i){return document.querySelectorAll(i)}var n=function(n,o){function t(i){if(!(b||L&&L.isScrolling())){var n=i.deltaY<0?"up":"down";"down"==n?e():r(),u()}}function e(){var i=w.index+1,n=p.length-1;if(i<=n){var o=p[i];a(o)}}function r(){var i=w.index-1;if(i>=0){var n=p[i];a(n)}}function a(i,n){w.id=i.id,w.element=i;for(var o=0;o<p.length;o++){var t=p[o];t==i?(t.classList.add("active"),w.index=o):t.classList.remove("active")}l(n)}function l(i){i=void 0===i,T&&i&&c(),g&&s(g)}function c(){var i=window.location.origin+window.location.pathname;i+="#"+w.id,window.location=i}function s(i){for(var n=0;n<i.length;n++)for(var o=i[n],t=o.querySelectorAll("[data-menuanchor]"),e=0;e<t.length;e++){var r=t[e],a=r.attributes["data-menuanchor"];a.value==w.id?r.classList.add("active"):r.classList.remove("active")}}function u(){b=!0,clearTimeout(v),v=setTimeout(function(){b=!1},S)}function f(){var i=window.location.hash;if(i)for(var n=0;n<p.length;n++){var o=p[n];if("#"+o.id==i){a(o);break}}else a(p[0],!1);for(n=0;n<p.length;n++)p[n].classList.add("sf-section")}function d(){for(var i=0;i<L.length;i++){var n,o=L[i];o.onwheel=function(i){var t,e=this.scrollHeight-this.offsetHeight,r=0==this.scrollTop,a=Math.ceil(this.scrollTop)==e,l=i.deltaY<0?"up":"down";r&&"down"==l?t=!0:a&&"up"==l&&(t=!0),(this.previousTop!=this.scrollTop||t)&&(this.scrolling=!0,this.previousTop=this.scrollTop,clearTimeout(n),n=setTimeout(function(){o.scrolling=!1},S))}}L.isScrolling=function(){for(var i=0;i<L.length;i++){var n=L[i];if(n.scrolling)return!0}}}function h(){for(var i=0;i<g.length;i++)for(var n=g[i],o=n.querySelectorAll("[data-menuanchor] a"),t=0;t<o.length;t++){var e=o[t];e.onclick=function(){for(var i=0;i<p.length;i++){var n=p[i];if(this.hash=="#"+n.id){a(n);break}}}}}var v,w=this.current={index:0,id:void 0,element:void 0},g=o.menu?i(o.menu):void 0,m=o.sectionSelector||".sf",p=i(n+" "+m),T=o.includeAnchor,S=o.delay||700,L=o.scrollables?i(o.scrollables):void 0,b=!1;this.init=function(){window.onwheel=t,f(),L&&d(),g&&h()},this.destroy=function(){window.removeEventListener("wheel",t)},this.pause=function(){b=!0},this.unPause=function(){b=!1},this.init()};window.SectionFade=n})();